import{r as c,j as e}from"./index-DiaJK5at.js";import{o as g,B as x,p as h,w as L,x as f,q as j,y,r as B,t as w,V as C,v as D}from"./boards-sidebar-DoxxaSwh.js";import"./card-CqCvBdfc.js";import"./createLucideIcon-Sqi4i3ov.js";function M(t){const s=new Date;s.setHours(0,0,0,0);const n=new Date(s);n.setDate(n.getDate()-1);const d=new Date(s);d.setMonth(d.getMonth()-1);const o=t.reduce((r,u)=>{const p=new Date(u.lastOpenedAt);p.setHours(0,0,0,0);let a;p.getTime()===s.getTime()?a="Сегодня":p.getTime()===n.getTime()?a="Вчера":p>=d?a="Прошлый месяц":a="Другое";const l=r.find(m=>m.title===a);return l?l.items.push(u):r.push({title:a,items:[u]}),r},[]);return["Сегодня","Вчера","Прошлый месяц","Другое"].map(r=>o.find(u=>u.title===r)).filter(r=>r!==void 0)}function P(){const t=g({sort:"lastOpenedAt"}),[s,n]=c.useState("list"),d=M(t.boards);return e.jsx(x,{sidebar:e.jsx(D,{}),header:e.jsx(w,{title:"Последние доски",description:"Здесь вы можете просматривать и управлять своими последними досками",actions:e.jsx(C,{value:s,onChange:o=>n(o)})}),children:e.jsx(h,{isEmpty:t.boards.length===0,isPending:t.isPending,isPendingNext:t.isFetchingNextPage,cursorRef:t.cursorRef,hasCursor:t.hasNextPage,mode:s,children:e.jsx(L,{groups:d.map(o=>({items:{list:e.jsx(y,{children:o.items.map(i=>e.jsx(B,{board:i},i.id))}),cards:e.jsx(f,{children:o.items.map(i=>e.jsx(j,{board:i},i.id))})}[s],title:o.title}))})})})}const A=P;export{A as Component};

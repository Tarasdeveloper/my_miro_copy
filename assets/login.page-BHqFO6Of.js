import{u as j,p,q as h,R as g,j as s,B as f,L as F}from"./index-DiaJK5at.js";import{u as b,F as E,a as l,b as c,c as m,d,e as u,s as L,z as a,A as S}from"./zod-C0TQ-lQe.js";import{I as x}from"./input-CGC2sZFe.js";import"./card-CqCvBdfc.js";function M(){const o=j(),n=p(),r=h.useMutation("post","/auth/login",{onSuccess(e){n.login(e.accessToken),o(g.HOME)}}),i=e=>{r.mutate({body:e})},t=r.isError?r.error.message:void 0;return{login:i,isPending:r.isPending,errorMessage:t}}const R=a.object({email:a.string({required_error:"Email обязателен"}).email("Неверный email"),password:a.string({required_error:"Пароль обязателен"}).min(6,"Пароль должен быть не менее 6 символов")});function v(){const o=b({resolver:L(R)}),{errorMessage:n,isPending:r,login:i}=M(),t=o.handleSubmit(i);return s.jsx(E,{...o,children:s.jsxs("form",{className:"flex flex-col gap-4",onSubmit:t,children:[s.jsx(l,{control:o.control,name:"email",render:({field:e})=>s.jsxs(c,{children:[s.jsx(m,{children:"Email"}),s.jsx(d,{children:s.jsx(x,{placeholder:"admin@gmail.com",...e})}),s.jsx(u,{})]})}),s.jsx(l,{control:o.control,name:"password",render:({field:e})=>s.jsxs(c,{children:[s.jsx(m,{children:"Пароль"}),s.jsx(d,{children:s.jsx(x,{placeholder:"******",type:"password",...e})}),s.jsx(u,{})]})}),n&&s.jsx("p",{className:"text-destructive text-sm",children:n}),s.jsx(f,{disabled:r,type:"submit",children:"Войти"})]})})}function q(){return s.jsx(S,{title:"Вход в систему",description:"Введите ваш email и пароль для входа в систему",form:s.jsx(v,{}),footerText:s.jsxs(s.Fragment,{children:["Нет аккаунта? ",s.jsx(F,{to:g.REGISTER,children:"Зарегистрироваться"})]})})}const w=q;export{w as Component};
